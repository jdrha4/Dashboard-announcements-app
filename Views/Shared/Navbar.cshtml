@{
    bool isAuth = User.Identity?.IsAuthenticated == true;
    bool isAdmin = User.IsInRole("Admin");
    bool isManager = User.IsInRole("Manager");
}

<!-- Main navigation bar -->
<header>
    <nav class="navbar navbar-expand-lg container py-2 navbar-border">
        <!-- Brand Logo + Name -->
        <a asp-route="default" class="navbar-brand d-flex align-items-center">
            <img src="~/images/logo.png" alt="Logo" class="logo-img">
            <span class="text-dark">
                <span class="text-lowercase fw-bold fs-4">announce</span><span class="text-uppercase fw-bolder fs-3 active">IT</span>
            </span>
        </a>

        <!-- Hamburger -->
        <button class="navbar-toggler me-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navbar Menu -->
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav align-items-center fs-5 text-lowercase">
                @if (isAuth)
                {
                    <!-- Only visible to Admins & Managers -->
                    @if (isAdmin || isManager)
                    {
                        <li class="nav-item">
                            <a asp-area="Dashboards" asp-controller="ManageDashboards" asp-action="Index" class="nav-link text-nowrap">manage @(isManager ? "my" : "") dashboards</a>
                        </li>
                    }
                    @if (isAdmin)
                    {
                        <li class="nav-item">
                            <a asp-area="Account" asp-controller="UserRoles" asp-action="Index" class="nav-link text-nowrap">manage roles</a>
                        </li>
                        <li class="nav-item">
                            <a asp-area="GlobalSettings" asp-controller="GlobalSettings" asp-action="Index" class="nav-link text-nowrap">global settings</a>
                        </li>
                    }
                    <!-- Profile Button with role label -->
                    <li class="nav-item">
                        <a asp-area="Account" asp-controller="Profile" asp-action="Index" class="nav-link text-nowrap">
                            <i class="bi bi-person-circle"></i> @(isAdmin ? "(admin)" : isManager ? "(manager)" : "")
                        </a>
                    </li>
                    <!-- Logout Button -->
                    <li class="nav-item">
                        <a asp-area="Account" asp-controller="Auth" asp-action="Logout" class="nav-link text-nowrap">
                            <i class="bi bi-box-arrow-right"></i>
                        </a>
                    </li>
                }
                else
                {
                    <!-- Guest Options -->
                    <li class="nav-item">
                        <a asp-area="Account" asp-controller="Auth" asp-action="Login" class="nav-link text-nowrap">sign in</a>
                    </li>
                    <li class="nav-item">
                        <a asp-area="Account" asp-controller="Auth" asp-action="Register" class="nav-link text-nowrap">sign up</a>
                    </li>
                }
            </ul>
        </div>
    </nav>
</header>
